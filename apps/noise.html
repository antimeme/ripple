<!DOCTYPE html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, user-scalable=no" />
<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<title>Noise</title>
<style>
 html, body, canvas, div { margin: 0; padding: 0 }
 html, body { height: 100%; }
 body { overflow-x: visible; overflow-y: hidden; }
</style>
<canvas id="noise"></canvas>

<script type="module">//<![CDATA[
 import noise from "./ripple/noise.mjs";

 var go = function() {
     const canvas = document.querySelector("#noise");
     const config = { canvas: canvas };
     window.location.search.substr(1).split("&")
           .forEach(function(item) {
               let pair = item.split("=");
               config[pair[0]] =
                   (pair.length === 2) ? decodeURIComponent(
                       pair[1].replace(/\+/g, " ")) : true; });


     window.addEventListener("resize", function() {
         canvas.width = document.body.clientWidth;
         canvas.height = document.body.clientHeight;
         noise(config);
     });
     window.dispatchEvent(new Event("resize"));
 };

 if (document.attachEvent ?
     (document.readyState === "complete") :
     (document.readyState !== "loading"))
     go();
 else document.addEventListener('DOMContentLoaded', go);
//]]></script>
